# 云计算虚拟化与容器化性能对比实验

## 项目简介

本项目通过实验对比VMWare虚拟机和Docker容器的性能差异，包括启动时间、资源占用、并发性能等关键指标。

## 项目结构

```
cloud_final/
├── src/                          # 源代码目录
│   ├── run_experiment.sh         # 主运行脚本
│   ├── vm_test.sh                # VM测试脚本
│   ├── docker_test.sh            # Docker测试脚本
│   ├── stress_test.sh            # 压力测试脚本
│   ├── install_dependencies.sh   # 依赖安装脚本
│   ├── cleanup.sh                # 清理脚本
│   ├── port_manager.sh           # 端口管理工具
│   ├── visualize_results.py      # 可视化脚本
│   ├── analyze_results.py        # 结果分析脚本
│   ├── requirements.txt          # Python依赖
│   └── README.md                 # 详细使用文档
├── report/                       # 实验报告
└── README.md                     # 课程说明（保持原样）
```

## 快速开始

### 1. 克隆项目到虚拟机

```bash
git clone <项目地址>
cd cloud_final
```

### 2. 运行实验

```bash
cd src
bash run_experiment.sh
```

就这么简单！脚本会自动：
- ✓ 安装所有依赖（Nginx、Docker、Python包等）
- ✓ 执行VM性能测试
- ✓ 执行Docker性能测试
- ✓ 进行压力测试对比
- ✓ 生成可视化图表

### 3. 查看结果

```bash
# 查看性能数据
cat results/performance.csv
cat results/stress.csv

# 查看可视化图表
cd results/visualization
ls *.png
```

## 技术栈

- **虚拟化**：VMWare Workstation (Ubuntu 22.04 虚拟机)
- **容器**：Docker (官方Nginx镜像)
- **压测工具**：Apache Bench (ab)
- **数据分析**：Python (pandas, matplotlib, seaborn)
- **自动化**：Bash脚本

## 环境要求

- **操作系统**：Ubuntu 20.04+, Debian 11+, 或 CentOS 7+
- **硬件**：2核CPU，4GB内存（推荐）
- **权限**：sudo权限
- **网络**：互联网连接（首次运行需下载Docker镜像等）

## 实验指标

### 资源使用
- 启动时间（秒）
- CPU占用率（%）
- 内存使用（MB）
- 磁盘占用（MB）

### 并发性能
- QPS（每秒请求数）
- 平均响应时间（毫秒）
- 失败请求数
- 传输速率（KB/s）

## 高级选项

```bash
# 跳过依赖安装（已安装过）
bash run_experiment.sh --skip-deps

# 使用其他端口（默认8080）
bash run_experiment.sh --port 9090

# 自动选择可用端口
bash run_experiment.sh --auto-port

# 只安装依赖
bash install_dependencies.sh

# 清理实验环境
bash cleanup.sh
```

## 故障排除

### 端口被占用
```bash
bash run_experiment.sh --auto-port
```

### Docker权限问题
```bash
sudo usermod -aG docker $USER
newgrp docker
```

### 依赖缺失
```bash
bash install_dependencies.sh
```

## 详细文档

查看 `src/README.md` 获取完整的使用文档和技术细节。

## 实验报告

查看 `report/` 目录下的实验报告（待补充）。

## 作者

云计算期末大作业小组

## 许可

本项目仅用于课程学习和实验，请勿用于商业用途。

